<IfDefine !IS_EDX_LMS_LOADED>
  Define IS_EDX_LMS_LOADED
  WSGIDaemonProcess lms user=css group=css processes=2 threads=15 display-name=%{GROUP} python-home=/home/css/edx-edutech/apps/edx/venvs/edxapp python-path=/home/css/edx-edutech/apps/edx/edx-platform:/home/css/edx-edutech/apps/edx/venvs/edxapp/lib/python2.7/site-packages
</IfDefine>

WSGIProcessGroup lms
WSGIApplicationGroup %{GLOBAL}

# Enable some basic redirections
RewriteEngine On
RewriteRule ^/edx-studio(/.*)? http://%{SERVER_NAME}:18010/ [R,L]

# Disable remote access to Django admin console
<Location "/admin">
  Require local
  ErrorDocument 403 "For security reasons, this URL is only accessible using localhost (127.0.0.1) as the hostname."
</Location>

# edX Platform LMS application
WSGIScriptAlias / /home/css/edx-edutech/apps/edx/edx-platform/lms/bitnami_wsgi.py
<Directory /home/css/edx-edutech/apps/edx/edx-platform/lms>
  <Files bitnami_wsgi.py>
    Require all granted
  </Files>
  Include "/home/css/edx-edutech/apps/edx/conf/banner.conf"
</Directory>

# Media files are loaded outside the WSGI environment
Alias /media/ /home/css/edx-edutech/apps/edx/var/media/
<Directory /home/css/edx-edutech/apps/edx/var/media/>
  Require all granted
</Directory>

# Resource files are loaded outside the WSGI environment
Alias /static/ /home/css/edx-edutech/apps/edx/var/staticfiles/
<Directory /home/css/edx-edutech/apps/edx/var/staticfiles/>
  Require all granted
</Directory>
